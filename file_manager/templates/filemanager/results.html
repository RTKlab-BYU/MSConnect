{% load static %}<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport"/>
  <title>
   View Results
  </title>
  <meta content="This page provides access to view results and manage data" name="description"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Condensed" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
  <link href="{% static '/assets/css/styles.min.css' %}" rel="stylesheet"/>
  <link href="{% static '/assets/css/datatables.min.min.css' %}" rel="stylesheet"/>
  <link href="{% static '/assets/css/movetotop.min.css' %}" rel="stylesheet"/>
  <link href="{% static '/assets/css/SO-floating-nav_15.min.css' %}" rel="stylesheet"/>
 </head>
 <body id="page-top">
  <div id="wrapper">
   <div dont-float="true" id="nt-compact">
    <ul>
     <li>
      <label style="color: rgb(255,255,255);">
       {{ user.username }}
      </label>
     </li>
     <li>
      <a href="/files/" title="Dashboard">
       <i class="fa fa-th-large">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Dashboard
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/uploadraw/" title="Upload">
       <svg class="bi bi-hammer" fill="currentColor" height="1em" viewbox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.972 2.508a.5.5 0 0 0-.16-.556l-.178-.129a5.009 5.009 0 0 0-2.076-.783C6.215.862 4.504 1.229 2.84 3.133H1.786a.5.5 0 0 0-.354.147L.146 4.567a.5.5 0 0 0 0 .706l2.571 2.579a.5.5 0 0 0 .708 0l1.286-1.29a.5.5 0 0 0 .146-.353V5.57l8.387 8.873A.5.5 0 0 0 14 14.5l1.5-1.5a.5.5 0 0 0 .017-.689l-9.129-8.63c.747-.456 1.772-.839 3.112-.839a.5.5 0 0 0 .472-.334z">
        </path>
       </svg>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Upload
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/maxquant/" title="Process">
       <i class="fa fa-hand-rock-o">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Maxquant
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/msfragger/" title="Msfragger">
       <i class="fa fa-creative-commons">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Msfragger
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/pd/" title="Protein Discoverer">
       <i class="fa fa-product-hunt">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         PD
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/results/" title="Results">
       <svg class="bi bi-caret-right-fill" fill="currentColor" height="1em" viewbox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
        <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z">
        </path>
       </svg>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Results
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/settings/" title="settings">
       <i class="fa fa-cogs">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Settings
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="{% url 'logout' %}" title="logout">
       <i class="fa fa-sign-out">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Logout
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/help/" title="Help">
       <svg class="bi bi-question" fill="currentColor" height="1em" viewbox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z">
        </path>
       </svg>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Support
        </p>
       </div>
      </a>
     </li>
    </ul>
   </div>
   <div class="d-flex flex-column" id="content-wrapper">
    <div id="main">
     <div class="container-fluid">
      <div>
       <div class="row" id="task_schedule">
        <div class="col">
         <form method="post">
          <div style="visibility: hidden; display:inline;">
           <p>
            {% csrf_token %}
           </p>
          </div>
          <div class="form-row">
           <div class="col">
            <p class="text-dark" style="font-size: 20px;text-align: center;">
             <strong>
              View Results
             </strong>
            </p>
           </div>
          </div>
          <div class="form-row">
           <div class="col">
            <p>
             Name
             <input class="form-control" name="run_name" type="text" value="{{formdata.run_name}}"/>
            </p>
           </div>
           <div class="col">
            <p>
             Project Name
             <input class="form-control" name="project_name" type="text" value="{{formdata.project_name}}"/>
            </p>
           </div>
          </div>
          <div class="form-row">
           <div class="col">
            <p>
             Notes
             <input class="form-control" name="notes" type="text" value="{{formdata.notes}}"/>
            </p>
           </div>
           <div class="col">
            <p>
             Description
             <input class="form-control" name="run_desc" type="text" value="{{formdata.run_desc}}"/>
            </p>
           </div>
          </div>
          <div class="form-row">
           <div class="col">
            <p>
             Owner
            </p>
            <select name="user" width="100%">
             <option value="">
              All
             </option>
             {% for item in users %}
             <div>
              {% if formdata.user == item.pk|stringformat:"i" %}
              <option selected="" value="{{item.pk}}">
               {{item.username}}
              </option>
              {% else %}
              <option value="{{item.pk}}">
               {{item.username}}
              </option>
              {% endif %}
             </div>
             {% endfor %}
            </select>
           </div>
           <div class="col">
            <p>
             Instrument Serial
             <input class="form-control" name="instrument_sn" type="text" value="{{formdata.instrument_sn}}"/>
            </p>
           </div>
          </div>
          <div class="form-row">
           <div class="col">
            <p>
             Custom parameter
            </p>
            <input class="form-control" name="custom_para" type="text" value="{{formdata.custom_para}}"/>
           </div>
           <div class="col">
            <p>
             Custom value
            </p>
            <input class="form-control" name="custom_value" type="text" value="{{formdata.custom_value}}"/>
           </div>
          </div>
          <div class="form-row">
           <div class="col">
            <p>
             Time from
             <input class="form-control" name="start_time" type="date" value="{{formdata.start_time}}"/>
            </p>
           </div>
           <div class="col">
            <p>
             Time up to
             <input class="form-control" name="end_time" type="date" value="{{formdata.end_time}}"/>
            </p>
           </div>
          </div>
          <div class="form-row">
           <div class="col">
           </div>
           <div class="col">
            <button class="btn btn-primary" name="data_filter" type="submut">
             Search
            </button>
           </div>
           <div class="col">
            <button class="btn btn-primary" type="reset">
             Clear
            </button>
           </div>
          </div>
          <div class="form-row">
           <div class="col">
            <div class="form-row">
             <div class="col">
              <p style="text-align: left;font-weight: bold;font-size: 150%;">
               {{ Current_message}}
              </p>
             </div>
            </div>
           </div>
           <div class="table-responsive text-light">
            <table class="table table-sm" id="test_results_table">
             <thead>
              <tr>
               <th>
                Pk
               </th>
               <th>
                Run Name
               </th>
               <th>
                Protein
               </th>
               <th>
                Peptide
               </th>
               <th>
                PSM
               </th>
               <th>
                Precusor
               </th>
               <th>
                QC
               </th>
               <th>
                File
               </th>
               <th>
                Acquisition start time
               </th>
               <th>
                User
               </th>
               <th>
                Notes
               </th>
              </tr>
             </thead>
             <tbody>
              {% for item in RawFiles %}
              <tr>
               <!--                 <td>  <input name="task_record" type="checkbox" id = {{item.pk}} class="table_check_box"></td> -->
               <td>
                <a href="load/{{item.pk}}" target="_blank">
                 {{ item.pk|default_if_none:"" }}
                </a>
               </td>
               <td>
                {{ item.run_name}}
               </td>
               <td>
                {{ item.current_qc.protein_id|default_if_none:"" }}
               </td>
               <td>
                {{ item.current_qc.peptide_id|default_if_none:"" }}
               </td>
               <td>
                {{ item.current_qc.psm_id|default_if_none:"" }}
               </td>
               <td>
                {{ item.current_qc.precurosr_id|default_if_none:"" }}
               </td>
               <td>
                {{ item.current_qc|make_list|slice:':7'|join:'' }}
               </td>
               <td>
                <a href="/files/{{item.current_raw.filelocation|default_if_none:1}}">
                 {{ item.file_size}}G
                 <i class="fa fa-download">
                 </i>
                </a>
               </td>
               <td>
                {{ item.acquisition_time|date:"D, M-d-Y h:i a "}}
               </td>
               <td>
                {{ item.creator}}
               </td>
               <td>
                {{ item.notes}}
               </td>
              </tr>
              {% endfor %}
             </tbody>
            </table>
           </div>
          </div>
         </form>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div class="row" style="text-align: center;">
   <div class="col">
   </div>
   <div class="col">
   </div>
   <div class="col">
    <footer class="bg-white sticky-footer">
     <div class="container my-auto">
      <div class="text-center my-auto copyright">
       <span>
        Copyright © 2022 PDM
        <a href="/contact/">
         Contact us
        </a>
       </span>
      </div>
     </div>
    </footer>
   </div>
   <div class="col">
    <form>
     <button class="btn btn-primary" id="myBtn" onclick="gototopFunction()" title='"Go to top"' type="button">
      Top
     </button>
    </form>
   </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.bundle.min.js">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js">
  </script>
  <script src="{% static '/assets/js/script.min.js' %}">
  </script>
  <script src="{% static '/assets/js/results.min.js' %}">
  </script>
  <script src="{% static '/assets/js/SO-floating-nav_15.min.js' %}">
  </script>
 </body>
</html>