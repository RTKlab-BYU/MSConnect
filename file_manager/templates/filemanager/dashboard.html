{% load static %}<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport"/>
  <title>
   Dashboard - Proteomics Data Center
  </title>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/img/main.png' %}" rel="icon" sizes="400x400" type="image/png"/>
  <link href="{% static '/assets/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Condensed" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
  <link href="{% static '/assets/css/styles.min.css' %}" rel="stylesheet"/>
  <link href="{% static '/assets/css/SO-floating-nav_15.min.css' %}" rel="stylesheet"/>
 </head>
 <body id="page-top">
  <div id="wrapper">
   <div dont-float="true" id="nt-compact">
    <ul>
     <li>
      <label style="color: rgb(255,255,255);">
       {{ user.username }}
      </label>
     </li>
     <li>
      <a href="/files/" title="Dashboard">
       <i class="fa fa-th-large">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Dashboard
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/uploadraw/" title="Upload">
       <svg class="bi bi-hammer" fill="currentColor" height="1em" viewbox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.972 2.508a.5.5 0 0 0-.16-.556l-.178-.129a5.009 5.009 0 0 0-2.076-.783C6.215.862 4.504 1.229 2.84 3.133H1.786a.5.5 0 0 0-.354.147L.146 4.567a.5.5 0 0 0 0 .706l2.571 2.579a.5.5 0 0 0 .708 0l1.286-1.29a.5.5 0 0 0 .146-.353V5.57l8.387 8.873A.5.5 0 0 0 14 14.5l1.5-1.5a.5.5 0 0 0 .017-.689l-9.129-8.63c.747-.456 1.772-.839 3.112-.839a.5.5 0 0 0 .472-.334z">
        </path>
       </svg>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Upload
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/maxquant/" title="Process">
       <i class="fa fa-hand-rock-o">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Maxquant
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/msfragger/" title="Msfragger">
       <i class="fa fa-creative-commons">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Msfragger
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/pd/" title="Protein Discoverer">
       <i class="fa fa-product-hunt">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         PD
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/results/" title="Results">
       <svg class="bi bi-caret-right-fill" fill="currentColor" height="1em" viewbox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
        <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z">
        </path>
       </svg>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Results
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/settings/" title="settings">
       <i class="fa fa-cogs">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Settings
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="{% url 'logout' %}" title="logout">
       <i class="fa fa-sign-out">
       </i>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Logout
        </p>
       </div>
      </a>
     </li>
     <li>
      <a href="/files/help/" title="Help">
       <svg class="bi bi-question" fill="currentColor" height="1em" viewbox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z">
        </path>
       </svg>
       <div class="nt-tooltip">
        <p style="font-family:'Ubuntu Condensed', sans-serif;">
         Support
        </p>
       </div>
      </a>
     </li>
    </ul>
   </div>
   <div class="d-flex flex-column" id="content-wrapper">
    <div id="content">
     <div class="container-fluid">
      <div class="text-right d-sm-flex justify-content-between align-items-center mb-4">
      </div>
     </div>
     <h1 style="text-align: center;">
      Proteomics Data Manager
     </h1>
     <div class="row" style="text-align: center;">
     </div>
     <p style="text-align: center;">
      <span class="text-monospace text-primary" id="words">
       Today is
      </span>
      <span class="text-monospace text-primary" id="date-time">
      </span>
     </p>
     <div class="row">
      <div class="col">
       <div class="row">
        <div class="col">
         <script type="text/javascript">
          var config = {
      type: 'pie',
      data: {datasets: [{
          data: {{ data|safe }},
          backgroundColor: ['red', 'green'],
        }],
        labels: {{ labels|safe }}
      },
      options: {
        responsive: true,
           title: {
                display: true,
                text: 'System Drive Usage'
           }
      }
    };
     
  var config2 = {
      type: 'pie',
      data: {datasets: [{
          data: {{ back_data|safe }},
          backgroundColor: ['red', 'green'],
        }],
        labels: {{ back_labels|safe }}
      },
      options: {
        responsive: true,
           title: {
                display: true,
                text: 'Storage Drive Usage'
           }
      }
    };
     
      var config6 = {
      type: 'pie',
      data: {datasets: [{
          data: {{ remote_data|safe }},
          backgroundColor: ['red', 'green'],
        }],
        labels: {{ remote_labels|safe }}
      },
      options: {
        responsive: true,
           title: {
                display: true,
                text: 'Remote Drive Usage'
           }
      }
    }; 
     
      var config7 = {
      type: 'pie',
      data: {datasets: [{
          data: {{ offline_data|safe }},
          backgroundColor: ['red', 'green'],
        }],
        labels: {{ offline_labels|safe }}
      },
      options: {
        responsive: true,
           title: {
                display: true,
                text: 'Offline Drive Usage'
           }
      }
    }; 
     var config3 =
         {
  type: "bar",
  data: {
     labels: {{ daily_labels|safe }},
     datasets: [
        {
          backgroundColor: "#79AEC8",
          borderColor: "#417690",
          data: {{ daily_data|safe }}
        }
     ]
  },
  options: {
      legend: {
            display: false
         },
    layout: {
            padding: 20
        },
     title: {
        text: "MS Runs in the Last 30 days",
        display: true
     }
  },

     
}
     var config4 =
         {
  type: "bar",
  data: {
     labels: {{ monthly_labels|safe }},
     datasets: [
        {
          backgroundColor: "green",
          borderColor: "#417690",
          data: {{ monthly_data|safe }}
        }
     ]
  },
  options: {
      legend: {
            display: false
         },
             layout: {
            padding: 20
        },
     title: {
        text: "MS Runs in the Last 12 Month",
        display: true
     }
  }
}     


     var config5 =
         {
  type: "horizontalBar",
  data: {
     labels: {{ user_labels|safe }},
     datasets: [
        {
          backgroundColor: "green",
          borderColor: "#417690",
          data: {{ user_data|safe }},
         backgroundColor: ["#0062B8","#9933FF","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850","#99CC66", "#000000", "#999900"],
        }
     ]
  },
  options: {
      legend: {
            display: false
         },
             layout: {
            padding: 20
        },
     title: {
        text: "Runs by Top 10 users",
        display: true
     }
  }
}       
    window.onload = function() {
      var ctx = document.getElementById('system_pie-chart').getContext('2d');
      window.myPie = new Chart(ctx, config);
      var ctx2 = document.getElementById('back_pie-chart').getContext('2d');
      window.myPie2 = new Chart(ctx2, config2);
        
      var ctx6 = document.getElementById('remote_pie-chart').getContext('2d');
      window.myPie6 = new Chart(ctx6, config6);
      var ctx7 = document.getElementById('offline_pie-chart').getContext('2d');
      window.myPie7 = new Chart(ctx7, config7);
        
        
      var ctx3 = document.getElementById("chart").getContext("2d");
       window.myPie3 = new Chart(ctx3, config3);
      var ctx4 = document.getElementById("chart2").getContext("2d");
       window.myPie4 = new Chart(ctx4, config4);
       var ctx5 = document.getElementById("chart0").getContext("2d");
       window.myPie5 = new Chart(ctx5, config5);
        
        
        
    };
         </script>
         <div id="container" style="width: 75%;">
          <canvas id="system_pie-chart">
          </canvas>
         </div>
        </div>
        <div class="col">
         <div id="container" style="width: 75%;">
          <canvas id="back_pie-chart">
          </canvas>
         </div>
        </div>
        <div class="col">
         <div id="container" style="width: 75%;">
          <canvas id="remote_pie-chart">
          </canvas>
         </div>
        </div>
        <div class="col">
         <div id="container" style="width: 75%;">
          <canvas id="offline_pie-chart">
          </canvas>
         </div>
        </div>
       </div>
      </div>
      <div class="col">
       <div class="row">
        <div class="col">
         <span class="text-center" style="color: var(--indigo);font-size: 20px;">
          It has been {{time}} hours since last restart
         </span>
        </div>
       </div>
       <div class="row" style="font-size: 20px;">
        <div class="col" style="font-size: 20px;">
         <span style="color: var(--indigo);font-size: 20px;">
          {{records}} runs has been recorded
         </span>
        </div>
       </div>
       <div class="row" style="font-size: 20px;">
        <div class="col" style="font-size: 20px;color: var(--primary);">
         <span style="color: var(--indigo);font-size: 20px;">
          Total {{users}} users, ? users online
         </span>
        </div>
       </div>
       <div class="row" style="font-size: 20px;">
        <div class="col" style="font-size: 20px;">
         <span class="text-center" style="color: var(--indigo);font-size: 20px;">
          Total system drive capacity is {{total}} GB, {{used}} GB used,
          <br/>
          {{free}} GB free space, or {{percent}} % available
         </span>
        </div>
       </div>
       <div class="row" style="font-size: 20px;">
        <div class="col" style="font-size: 20px;">
         <span class="text-center" style="color: var(--indigo);font-size: 20px;">
          Total Storage drive capacity is {{ back_total }} GB, {{ back_used }} GB used,
          <br/>
          {{back_free}} GB free space, or {{ back_percent }} % available
         </span>
        </div>
       </div>
      </div>
     </div>
     <div class="row" style="text-align: center;">
      <div id="container0" style="width: 75%; left:80px">
       <div>
        <canvas height="30%" id="chart0" width="100%">
        </canvas>
       </div>
      </div>
     </div>
     <div class="row" style="text-align: center;">
      <div id="container3" style="width: 75%; left:80px">
       <div>
        <canvas height="30%" id="chart" width="100%">
        </canvas>
       </div>
      </div>
     </div>
     <div class="row" style="text-align: center;">
      <div id="container4" style="width: 75%;">
       <div>
        <canvas height="30%" id="chart2" width="100%">
        </canvas>
       </div>
      </div>
     </div>
     <div class="row" style="text-align: center;">
      <div class="col">
       <footer class="bg-white sticky-footer">
        <div class="container my-auto">
         <div class="text-center my-auto copyright">
          <span>
           Copyright © 2022 PDM
           <a href="/contact/">
            Contact us
           </a>
          </span>
         </div>
        </div>
       </footer>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.bundle.min.js">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js">
  </script>
  <script src="{% static '/assets/js/script.min.js' %}">
  </script>
  <script src="{% static '/assets/js/dashboard.min.js' %}">
  </script>
  <script src="{% static '/assets/js/SO-floating-nav_15.min.js' %}">
  </script>
 </body>
</html>